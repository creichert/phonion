Phonion: a secure voip and messaging device
============================================

Compiling
---------
    $ qmake CONFIG+=phonion CONFIG+=voip -recursive
    $ make


Run
---
    $ source env.sh
    $ ./phonion/phonion


Cross-compile for Raspberry Pi
------------------------------

    $ qmake CONFIG+=rpi CONFIG+=phonion CONFIG+=voip CONFIG+=debug -recursive
    $ make -j4

    $ export PIIP=192.168.1.107
    $ rsync -av -e ssh ../phonion/ pi@PIIP:phonion


Compile Qt
----------

Developer build: http://qt-project.org/wiki/Building_Qt_5_from_Git

    $ git clone git://gitorious.org/qt/qt5.git qt5
    $ cd $QT5PATH && perl ./init-repository
    $ ./configure -developer-build -opensource -confirm-license
    $ make -j5

Cross compile Qt5 for Raspberry Pi:  http://www.ics.com/blog/building-qt-5-raspberry-pi#.UtV6npCldhE

    $ sudo ./fixQualifiedLibraryPaths /mnt/rasp-pi-rootfs/ ~/workspace/rpi/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian/bin/arm-linux-gnueabihf-gcc
    

    $ ./configure -releaseordebug -opengl es2 \ # -dbus -lrt -lpthread -no-neon -qt-xcb \
               -optimized-qmake -no-pch \
               -make libs -make tools -reduce-exports -sysroot /mnt/rasp-pi-rootfs \
               -device linux-rasp-pi-g++ \
               -device-option CROSS_COMPILE=~/workspace/rpi/tools/arm-bcm2708/gcc-linaro-arm-linux-gnueabihf-raspbian/bin/arm-linux-gnueabihf- \
               -prefix /usr/local/qt5pi/ -opensource -confirm-license
    $ make -j4
    $ sudo make install


Security Concerns
-----------------

* Mumble defaulting to OpenSSL v1.0. This should be restricted to at least v2.0 if not v3.0.
* Set hard limit on number of characters allowed per message.


TODO
----

1. Website
..* Basic landing page.
2. Documentation
..* Technical security documentation outlining software libraries, encryption used, etc.
..* User documentation and FAQ.


Dependendencies
----------------

    # Qt deps
    sudo apt-get install "^libxcb.*" libx11-xcb-dev libglu1-mesa-dev libxrender-dev \
                          libfontconfig1-dev libdbus-1-dev libegl1-mesa-dev libgegl-dev \
                          libfreetype6-dev libudev-dev \
                          libasound2-dev libavcodec-dev libavformat-dev \
                          libswscale-dev libgstreamer0.10-dev \
                          libgstreamer-plugins-base0.10-dev gstreamer-tools \
                          gstreamer0.10-plugins-good gstreamer0.10-plugins-bad \
                          libx11-dev libxcb-icccm4 libxfixes-dev
    # Install Tortalk deps
    sudo apt-get install libboost-python
    
    # Install Mumble deps
    sudo apt-get install build-essential pkg-config qt4-dev-tools libqt4-dev libspeex1 \
              libspeex-dev libboost-dev libasound2-dev libssl-dev g++ \
              libspeechd-dev libzeroc-ice-dev ice-slice libpulse-dev slice2cpp \
              libcap-dev libspeexdsp-dev libprotobuf-dev protobuf-compiler \
              libogg-dev libavahi-compat-libdnssd-dev libsndfile1-dev \
              libg15daemon-client-dev libxi-dev libopus-dev libcelt0-0 libcelt-dev
